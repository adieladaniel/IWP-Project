<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="icon" href="../images/favicon.png" sizes="8x8" type="image/png">
  <title>Lab Exam Portal</title>

  Ensure the dialog is centered regardless of external CSS 
  <style>
    dialog {
      padding: 1rem 1.25rem;
      border: 1px solid #ccc;
      border-radius: 8px;
      max-width: 480px;
      width: min(90vw, 480px);
    }
    dialog::backdrop { background: rgba(0,0,0,0.45); }
    dialog[open] {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1000;
    }
  </style>
</head>
<body>
  <header>
    <img src="../images/christlogo.png" alt="">
    <div>Department of AIML and Data Science</div>
  </header>

  <div id="attendance">
    <h2>Class: 5BTCSAIML-A</h2>
    <table border="1" style="border-collapse: collapse; width: 60%; text-align: center; background-color: white;">
      <th>Name</th>
      <th>Status</th>
      <tr>
        <td>Abhishek Anil George</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Adiel A Daniel</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Adin Sam</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Adithya P</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Adithya Agrawal</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Adorn Jim Mathew</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Adriel Clinton</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Airene V John</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Akash Dileep</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Akhil Alex</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Anantha Narayan</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Andrea Mary P T</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Ashik Tomy</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Ashutosh Das</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Asin Tressa</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Avadhanam Hasini</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Davis K Sony</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Delna Liz Denny</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Felix Francis</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Giftson Samuel Raj I</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Gladwin B Pullan</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Ishika Gupta</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Abhishek Rufus</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Vyashnavi</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Jewel Titus</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Jio Shiju</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Bhavyashree</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Kavin Srini</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Lemuel Fernandez</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>M Haripriya</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Mayanak Sharma</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Melwin K</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Melwin Robinson</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Muthu Anurag</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Nandana</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Nandini</td>
        <td><input type="checkbox"></td>
      </tr>
    </table>

    <div class="back-to-total-classes">
      <img src="../images/back.png" alt="" class="back-to-login-image">
      <a href="../html/teacher-dashboard.html" class="back-button">Submit</a>
    </div>
  </div>

  Modal dialog 
  <dialog id="confirmDialog" aria-labelledby="confirmTitle">
    <h3 id="confirmTitle">Confirm Absentees</h3>
    <p id="absentCount"></p>
    <ul id="absentList" style="text-align:left; max-height: 240px; overflow:auto; margin: 0 0 1rem;"></ul>
    <div class="modal-actions" style="display:flex; gap:0.5rem; justify-content:flex-end; margin-top:0.75rem;">
      <button id="cancelSubmit" type="button">Cancel</button>
      <button id="confirmSubmit" type="button">Confirm</button>
    </div>
  </dialog>

  <script>
    const submitLink = document.querySelector('.back-button');
    const dialog = document.getElementById('confirmDialog');
    const absentListEl = document.getElementById('absentList');
    const absentCountEl = document.getElementById('absentCount');

    submitLink.addEventListener('click', (e) => {
      e.preventDefault();
      const rows = document.querySelectorAll('#attendance table tr');
      const absentees = [];
      rows.forEach(row => {
        const nameCell = row.querySelector('td:first-child');
        const checkbox = row.querySelector('input[type="checkbox"]');
        if (nameCell && checkbox && checkbox.checked) {
          absentees.push(nameCell.textContent.trim());
        }
      });

      absentListEl.innerHTML = '';
      absentees.forEach(name => {
        const li = document.createElement('li');
        li.textContent = name;
        absentListEl.appendChild(li);
      });
      absentCountEl.textContent = absentees.length
        ? `${absentees.length} absentees selected`
        : 'No absentees selected';

      dialog.dataset.redirect = submitLink.getAttribute('href') || '../html/teacher-dashboard.html';
      dialog.showModal();
    });

    document.getElementById('cancelSubmit').addEventListener('click', () => {
      dialog.close();
    });

    document.getElementById('confirmSubmit').addEventListener('click', () => {
      const redirect = dialog.dataset.redirect || '../html/teacher-dashboard.html';
      dialog.close();
      window.location.href = redirect;
    });
  </script>
</body>
</html>
 -->



<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Attendance - Lab Exam Portal</title>
  <link rel="stylesheet" href="../css/attendance.css" />
</head>
<body>
  <header class="site-header" role="banner">
    <div class="header-inner">
      <img src="../images/christlogo.png" alt="Christ University logo" class="logo" />
      <div class="brand">
        <span class="dept">Department of AIML and Data Science</span>
      </div>
      <div class="user-actions">
        <a href="../html/teacher-dashboard.html" class="back-btn">Back to Dashboard</a>
      </div>
    </div>
  </header>

  <main class="attendance-wrapper" role="main">
    <section class="attendance-hero">
      <h1 class="title">Attendance</h1>
      <p class="subtitle">Student attendance tracking and status management</p>
    </section>

    <div class="table-container">
      <table class="attendance-table" aria-label="Student Attendance List">
        <thead>
          <tr>
            <th>Register Number</th>
            <th>Student Name</th>
            <th>Absent</th>
          </tr>
        </thead>
        <tbody>
          <tr><td class="register-number">2362005</td><td class="student-name">Abhishek Anil George</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362007</td><td class="student-name">Adiel A Daniel</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362008</td><td class="student-name">Adin Sam</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362010</td><td class="student-name">Adithya P</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362012</td><td class="student-name">Adithya Agrawal</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362013</td><td class="student-name">Adorn Jim Mathew</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362019</td><td class="student-name">Adriel Clinton</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362020</td><td class="student-name">Airene V John</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362022</td><td class="student-name">Akash Dileep</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362023</td><td class="student-name">Akhil Alex</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362030</td><td class="student-name">Anantha Narayan</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362038</td><td class="student-name">Andrea Mary P T</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362040</td><td class="student-name">Ashik Tomy</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362044</td><td class="student-name">Ashutosh Das</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362045</td><td class="student-name">Asin Tressa</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362047</td><td class="student-name">Avadhanam Hasini</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362049</td><td class="student-name">Davis K Sony</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362050</td><td class="student-name">Delna Liz Denny</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362069</td><td class="student-name">Felix Francis</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362072</td><td class="student-name">Giftson Samuel Raj I</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362080</td><td class="student-name">Gladwin B Pullan</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362085</td><td class="student-name">Ishika Gupta</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362087</td><td class="student-name">Abhishek Rufus</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362092</td><td class="student-name">Vyashnavi</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362095</td><td class="student-name">Jewel Titus</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362100</td><td class="student-name">Jio Shiju</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362102</td><td class="student-name">Bhavyashree</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362103</td><td class="student-name">Kavin Srini</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362105</td><td class="student-name">Lemuel Fernandez</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362108</td><td class="student-name">M Haripriya</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362110</td><td class="student-name">Mayanak Sharma</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362112</td><td class="student-name">Melwin K</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362115</td><td class="student-name">Melwin Robinson</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362120</td><td class="student-name">Muthu Anurag</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362121</td><td class="student-name">Nandana</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362123</td><td class="student-name">Nandini</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
        </tbody>
      </table>
    </div>

    <div class="action-buttons">
      <button class="submit-btn" onclick="submitAttendance()">Submit Attendance</button>
      <button class="reset-btn" onclick="resetAttendance()">Reset All</button>
    </div>
  </main>

  <!-- Custom Modal for Confirmation 
  <div id="confirmModal" class="modal">
    <div class="modal-content">
      <h2 id="modalTitle">Confirm Attendance Submission</h2>
      <div id="modalMessage" class="modal-message"></div>
      <div class="modal-actions">
        <button id="confirmBtn" class="confirm-btn">Submit Attendance</button>
        <button id="cancelBtn" class="cancel-btn">Cancel</button>
      </div>
    </div>
  </div>

  <script>
    const modal = document.getElementById('confirmModal');
    const modalMessage = document.getElementById('modalMessage');
    const confirmBtn = document.getElementById('confirmBtn');
    const cancelBtn = document.getElementById('cancelBtn');

    function submitAttendance() {
      const absentStudents = [];
      const checkboxes = document.querySelectorAll('.absent-checkbox');
      
      checkboxes.forEach(checkbox => {
        if (checkbox.checked) {
          const studentName = checkbox.closest('tr').querySelector('.student-name').textContent;
          absentStudents.push(studentName);
        }
      });

      let messageHTML = '';
      if (absentStudents.length === 0) {
        messageHTML = '<p class="no-absent">‚úÖ No students are marked as absent.</p><p class="all-present">All students are present for today\'s class.</p>';
      } else {
        messageHTML = '<p class="absent-header">‚ö†Ô∏è The following students are marked as <strong>ABSENT</strong>:</p><ul class="absent-list">';
        absentStudents.forEach(name => {
          messageHTML += `<li>${name}</li>`;
        });
        messageHTML += '</ul>';
      }

      modalMessage.innerHTML = messageHTML;
      modal.style.display = 'flex';
    }

    confirmBtn.onclick = function() {
      modal.style.display = 'none';
      
      // Show success message
      const successDiv = document.createElement('div');
      successDiv.className = 'success-message';
      successDiv.innerHTML = '‚úÖ Attendance submitted successfully!';
      document.body.appendChild(successDiv);
      
      setTimeout(() => {
        window.location.href = './teacher-dashboard.html';
      }, 1500);
    };

    cancelBtn.onclick = function() {
      modal.style.display = 'none';
    };

    function resetAttendance() {
      if (confirm('Are you sure you want to reset all attendance marks?')) {
        document.querySelectorAll('.absent-checkbox').forEach(checkbox => {
          checkbox.checked = false;
        });
        
        // Show reset message
        const resetDiv = document.createElement('div');
        resetDiv.className = 'reset-message';
        resetDiv.innerHTML = 'üîÑ All attendance marks have been reset.';
        document.body.appendChild(resetDiv);
        
        setTimeout(() => {
          resetDiv.remove();
        }, 2000);
      }
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
      if (event.target === modal) {
        modal.style.display = 'none';
      }
    };

    // Close modal with Escape key
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape' && modal.style.display === 'flex') {
        modal.style.display = 'none';
      }
    });
  </script>
</body>
</html> -->




<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Student Attendance - Lab Exam Portal</title>
  <link rel="stylesheet" href="../css/attendance.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
</head>
<body>
  <!-- Background Animation -->
  <div class="bg-animation">
    <div class="floating-shapes">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
      <div class="shape shape-4"></div>
    </div>
  </div>

  <!-- Header -->
  <header class="site-header">
    <div class="header-inner">
      <img src="../images/christlogo.png" alt="Christ University logo" class="logo" />
      <div class="brand">
        <span class="dept">Department of AIML and Data Science</span>
      </div>
      <div class="user-actions">
        <a href="../html/teacher-dashboard.html" class="back-btn">‚Üê Back to Dashboard</a>
      </div>
    </div>
  </header>

  <!-- Main Attendance Wrapper -->
  <main class="attendance-wrapper">
    <section class="attendance-hero">
      <h1 class="title gradient-text">Student Attendance</h1>
      <p class="subtitle">Track and manage student attendance with ease</p>
    </section>

    <div class="table-container">
      <table class="attendance-table">
        <thead>
          <tr>
            <th>Register Number</th>
            <th>Student Name</th>
            <th>Absent</th>
          </tr>
        </thead>
        <tbody>
          <tr><td class="register-number">2362005</td><td class="student-name">Abhishek Anil George</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362007</td><td class="student-name">Adiel A Daniel</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362008</td><td class="student-name">Adin Sam</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362010</td><td class="student-name">Adithya P</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362012</td><td class="student-name">Adithya Agrawal</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362013</td><td class="student-name">Adorn Jim Mathew</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362019</td><td class="student-name">Adriel Clinton</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362020</td><td class="student-name">Airene V John</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362022</td><td class="student-name">Akash Dileep</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362023</td><td class="student-name">Akhil Alex</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362030</td><td class="student-name">Anantha Narayan</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362038</td><td class="student-name">Andrea Mary P T</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362040</td><td class="student-name">Ashik Tomy</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362044</td><td class="student-name">Ashutosh Das</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362045</td><td class="student-name">Asin Tressa</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362047</td><td class="student-name">Avadhanam Hasini</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362049</td><td class="student-name">Davis K Sony</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362050</td><td class="student-name">Delna Liz Denny</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362069</td><td class="student-name">Felix Francis</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362072</td><td class="student-name">Giftson Samuel Raj I</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362080</td><td class="student-name">Gladwin B Pullan</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362085</td><td class="student-name">Ishika Gupta</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362087</td><td class="student-name">Abhishek Rufus</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362092</td><td class="student-name">Vyashnavi</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362095</td><td class="student-name">Jewel Titus</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362100</td><td class="student-name">Jio Shiju</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362102</td><td class="student-name">Bhavyashree</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362103</td><td class="student-name">Kavin Srini</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362105</td><td class="student-name">Lemuel Fernandez</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362108</td><td class="student-name">M Haripriya</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362110</td><td class="student-name">Mayanak Sharma</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362112</td><td class="student-name">Melwin K</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362115</td><td class="student-name">Melwin Robinson</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362120</td><td class="student-name">Muthu Anurag</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362121</td><td class="student-name">Nandana</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
          <tr><td class="register-number">2362123</td><td class="student-name">Nandini</td><td class="status-cell"><input type="checkbox" class="absent-checkbox" /></td></tr>
        </tbody>
      </table>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="submit-btn" onclick="submitAttendance()">
        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
          <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
        </svg>
        Submit Attendance
      </button>
      <button class="reset-btn" onclick="resetAttendance()">
        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/>
        </svg>
        Reset All
      </button>
    </div>
  </main>

  <!-- Confirmation Modal -->
  <div id="confirmModal" class="modal">
    <div class="modal-content">
      <h2>Confirm Attendance Submission</h2>
      <div id="modalMessage" class="modal-message"></div>
      <div class="modal-actions">
        <button id="confirmBtn" class="confirm-btn">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
          </svg>
          Confirm
        </button>
        <button id="cancelBtn" class="cancel-btn">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
          Cancel
        </button>
      </div>
    </div>
  </div>

  <script>
    const modal = document.getElementById('confirmModal');
    const modalMessage = document.getElementById('modalMessage');
    const confirmBtn = document.getElementById('confirmBtn');
    const cancelBtn = document.getElementById('cancelBtn');

    function submitAttendance() {
      const absentStudents = [];
      const checkboxes = document.querySelectorAll('.absent-checkbox');
      
      checkboxes.forEach(checkbox => {
        if (checkbox.checked) {
          const studentName = checkbox.closest('tr').querySelector('.student-name').textContent;
          absentStudents.push(studentName);
        }
      });

      let messageHTML = '';
      if (absentStudents.length === 0) {
        messageHTML = '<p class="no-absent">‚úÖ No students are marked as absent.</p><p class="all-present">All students are present for today\'s class.</p>';
      } else {
        messageHTML = '<p class="absent-header">‚ö†Ô∏è The following students are marked as <strong>ABSENT</strong>:</p><ul class="absent-list">';
        absentStudents.forEach(name => {
          messageHTML += `<li>${name}</li>`;
        });
        messageHTML += '</ul>';
      }

      modalMessage.innerHTML = messageHTML;
      modal.style.display = 'flex';
    }

    confirmBtn.onclick = function() {
      modal.style.display = 'none';
      
      // Show success message
      const successDiv = document.createElement('div');
      successDiv.className = 'success-message';
      successDiv.innerHTML = '‚úÖ Attendance submitted successfully!';
      document.body.appendChild(successDiv);
      
      setTimeout(() => {
        window.location.href = '../html/teacher-dashboard.html';
      }, 1500);
    };

    cancelBtn.onclick = function() {
      modal.style.display = 'none';
    };

    function resetAttendance() {
      if (confirm('Are you sure you want to reset all attendance marks?')) {
        document.querySelectorAll('.absent-checkbox').forEach(checkbox => {
          checkbox.checked = false;
        });
        
        // Show reset message
        const resetDiv = document.createElement('div');
        resetDiv.className = 'reset-message';
        resetDiv.innerHTML = 'üîÑ All attendance marks have been reset.';
        document.body.appendChild(resetDiv);
        
        setTimeout(() => {
          resetDiv.remove();
        }, 2000);
      }
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
      if (event.target === modal) {
        modal.style.display = 'none';
      }
    };

    // Close modal with Escape key
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape' && modal.style.display === 'flex') {
        modal.style.display = 'none';
      }
    });
  </script>
</body>
</html>

