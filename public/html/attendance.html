<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <title>Attendance</title>
</head>
<body>
    <header>
    <img src="../images/christlogo.png" alt="">
    <div>Department of AIML and Data Science</div>
  </header>
    <div id="attendance">
        <h2>Class: 5BTCSAIML-A</h2>
        <table border="1" style="border-collapse: collapse; width: 60%; text-align: center; background-color: white;">
            <th>Name</th>
            <th>Status</th>
            <tr>
                <td>Abhishek Anil George</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Adiel A Daniel</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Adin Sam</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Adithya P</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Adithya Agrawal</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Adorn Jim Mathew</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Adriel Clinton</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Airene V John</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Akash Dileep</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Akhil Alex</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Anantha Narayan</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Andrea Mary P T</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Ashik Tomy</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Ashutosh Das</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Asin Tressa</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Avadhanam Hasini</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Davis K Sony</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Delna Liz Denny</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Felix Francis</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Giftson Samuel Raj I</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Gladwin B Pullan</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Ishika Gupta</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Abhishek Rufus</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Vyashnavi</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Jewel Titus</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Jio Shiju</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Bhavyashree</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Kavin Srini</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Lemuel Fernandez</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>M Haripriya</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Mayanak Sharma</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Melwin K</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Melwin Robinson</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Muthu Anurag</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Nandana</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
            <tr>
                <td>Nandini</td>
                <td><input type="checkbox" name="" id=""></td>
            </tr>
        </table>
        <div class="back-to-total-classes">
                <img src="../images/back.png" alt="" class="back-to-login-image">
                <a href="../html/teacher-dashboard.html" class="back-button">Submit</a>
        </div>  
    </div>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
  <title>Attendance</title>

  <!-- Ensure the dialog is centered regardless of external CSS -->
  <style>
    dialog {
      padding: 1rem 1.25rem;
      border: 1px solid #ccc;
      border-radius: 8px;
      max-width: 480px;
      width: min(90vw, 480px);
    }
    dialog::backdrop { background: rgba(0,0,0,0.45); }
    dialog[open] {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1000;
    }
  </style>
</head>
<body>
  <header>
    <img src="../images/christlogo.png" alt="">
    <div>Department of AIML and Data Science</div>
  </header>

  <div id="attendance">
    <h2>Class: 5BTCSAIML-A</h2>
    <table border="1" style="border-collapse: collapse; width: 60%; text-align: center; background-color: white;">
      <th>Name</th>
      <th>Status</th>
      <tr>
        <td>Abhishek Anil George</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Adiel A Daniel</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Adin Sam</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Adithya P</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Adithya Agrawal</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Adorn Jim Mathew</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Adriel Clinton</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Airene V John</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Akash Dileep</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Akhil Alex</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Anantha Narayan</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Andrea Mary P T</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Ashik Tomy</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Ashutosh Das</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Asin Tressa</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Avadhanam Hasini</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Davis K Sony</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Delna Liz Denny</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Felix Francis</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Giftson Samuel Raj I</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Gladwin B Pullan</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Ishika Gupta</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Abhishek Rufus</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Vyashnavi</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Jewel Titus</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Jio Shiju</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Bhavyashree</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Kavin Srini</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Lemuel Fernandez</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>M Haripriya</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Mayanak Sharma</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Melwin K</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Melwin Robinson</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Muthu Anurag</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Nandana</td>
        <td><input type="checkbox"></td>
      </tr>
      <tr>
        <td>Nandini</td>
        <td><input type="checkbox"></td>
      </tr>
    </table>

    <div class="back-to-total-classes">
      <img src="../images/back.png" alt="" class="back-to-login-image">
      <a href="../html/teacher-dashboard.html" class="back-button">Submit</a>
    </div>
  </div>

  <!-- Modal dialog -->
  <dialog id="confirmDialog" aria-labelledby="confirmTitle">
    <h3 id="confirmTitle">Confirm Absentees</h3>
    <p id="absentCount"></p>
    <ul id="absentList" style="text-align:left; max-height: 240px; overflow:auto; margin: 0 0 1rem;"></ul>
    <div class="modal-actions" style="display:flex; gap:0.5rem; justify-content:flex-end; margin-top:0.75rem;">
      <button id="cancelSubmit" type="button">Cancel</button>
      <button id="confirmSubmit" type="button">Confirm</button>
    </div>
  </dialog>

  <script>
    const submitLink = document.querySelector('.back-button');
    const dialog = document.getElementById('confirmDialog');
    const absentListEl = document.getElementById('absentList');
    const absentCountEl = document.getElementById('absentCount');

    submitLink.addEventListener('click', (e) => {
      e.preventDefault();
      const rows = document.querySelectorAll('#attendance table tr');
      const absentees = [];
      rows.forEach(row => {
        const nameCell = row.querySelector('td:first-child');
        const checkbox = row.querySelector('input[type="checkbox"]');
        if (nameCell && checkbox && checkbox.checked) {
          absentees.push(nameCell.textContent.trim());
        }
      });

      absentListEl.innerHTML = '';
      absentees.forEach(name => {
        const li = document.createElement('li');
        li.textContent = name;
        absentListEl.appendChild(li);
      });
      absentCountEl.textContent = absentees.length
        ? `${absentees.length} absentees selected`
        : 'No absentees selected';

      dialog.dataset.redirect = submitLink.getAttribute('href') || '../html/teacher-dashboard.html';
      dialog.showModal();
    });

    document.getElementById('cancelSubmit').addEventListener('click', () => {
      dialog.close();
    });

    document.getElementById('confirmSubmit').addEventListener('click', () => {
      const redirect = dialog.dataset.redirect || '../html/teacher-dashboard.html';
      dialog.close();
      window.location.href = redirect;
    });
  </script>
</body>
</html>

